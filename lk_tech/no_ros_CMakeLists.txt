cmake_minimum_required(VERSION 3.22)
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_FLAGS "-O2 -Wall -Wextra")

project(${PARENT_PROJECT_NAME}_gyroscooter_node)

# set(THREADS_HAVE_PTHREAD_ARG 1)
# find_package(Threads REQUIRED)


# find_package(CppLinuxSerial REQUIRED)

add_executable(
    ${PROJECT_NAME} 
    src/no_ros.cxx
    include/SignalHandler.hxx
    
    include/Exception.hpp
    include/SerialPort.hpp
    src/SerialPort.cpp

    include/PortHandler.hxx 
    src/PortHandler.cxx 
    

    include/Base.hxx 
    src/Base.cxx 
    src/Base_Model.cxx
    src/Base_PID.cxx
    src/Base_Acceleration.cxx
    src/Base_Position.cxx
    src/Base_State.cxx
    src/Base_Operation.cxx
    src/Base_Torque_Control.cxx
    src/Base_Speed_Control.cxx
    src/Base_Position_Control.cxx

    Motor.hxx
    src/Motor.cxx
    )


# target_include_directories(${PROJECT_NAME} PRIVATE ${SERIAL_INCLUDE_DIRS})
# # target_link_libraries(${PROJECT_NAME}  PRIVATE ${SERIAL_LDFLAGS} ${CMAKE_THREAD_LIBS_INIT})
# target_link_libraries(${PROJECT_NAME}  CppLinuxSerial::CppLinuxSerial ${CMAKE_THREAD_LIBS_INIT})

# target_include_directories(${PROJECT_NAME} PRIVATE ${SERIAL_INCLUDE_DIRS})
# target_link_libraries(${PROJECT_NAME}  PRIVATE ${SERIAL_LDFLAGS} ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(${PROJECT_NAME} ${CMAKE_THREAD_LIBS_INIT})